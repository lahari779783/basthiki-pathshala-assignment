<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Admin - Basti Ki Pathshala</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- DataTables CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css"
    />

    <style>
      body {
        background-color: #f8f9fa;
      }

      .sidebar {
        height: 100vh;
        background-color: #343a40;
        color: white;
        padding: 1rem;
        position: fixed;
        width: 220px;
      }

      .sidebar a {
        display: block;
        color: white;
        text-decoration: none;
        margin: 1rem 0;
      }

      .sidebar a:hover {
        color: #ffc107;
      }

      .content {
        margin-left: 240px;
        padding: 2rem;
      }

      .navbar {
        margin-left: 220px;
      }
    </style>
  </head>

  <body>
    <!-- Sidebar -->
    <div class="sidebar">
      <h4>Basti Ki Pathshala</h4>
      <a href="/">Home</a>
      <a href="/register">Register</a>
      <a href="/admin">Admin</a>
    </div>

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">Admin Panel</a>
      </div>
    </nav>

    <!-- Content -->
    <div class="content">
      <h2 class="mb-4">Registered Volunteers</h2>

      <!-- Volunteer Table -->
      <div class="card p-3 shadow">
        <div class="table-responsive">
          <table id="volunteerTable" class="table table-striped table-hover">
            <thead class="table-dark">
              <tr>
                <th>#</th>
                <th>Name</th>
                <th>College</th>
                <th>Branch</th>
                <th>Year</th>
                <th>Contact</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              {% for v in volunteers %}
              <tr>
                <td>{{ loop.index }}</td>
                <td>{{ v.name }}</td>
                <td>{{ v.college }}</td>
                <td>{{ v.branch }}</td>
                <td>{{ v.year }}</td>
                <td>{{ v.contact }}</td>
                <td>
                  <a
                    href="{{ url_for('edit', id=v.id) }}"
                    class="btn btn-sm btn-warning"
                    >Edit</a
                  >
                  <a
                    href="{{ url_for('delete', id=v.id) }}"
                    class="btn btn-sm btn-danger"
                    onclick="return confirm('Are you sure you want to delete this volunteer?');"
                    >Delete</a
                  >
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>

      <!-- Cards Section -->
      <h3 class="mt-5 mb-3">Meet Our Volunteers</h3>
      <div class="row">
        {% for v in volunteers %}
        <div class="col-md-4 mb-4">
          <div class="card h-100 shadow-sm">
            <img
              src="{{ url_for('static', filename='images/volunteer_default.jpg') }}"
              class="card-img-top"
              alt="Volunteer Image"
            />
            <div class="card-body">
              <h5 class="card-title">{{ v.name }}</h5>
              <p class="card-text">
                <strong>College:</strong> {{ v.college }}<br />
                <strong>Branch:</strong> {{ v.branch }}<br />
                <strong>Year:</strong> {{ v.year }}<br />
                <strong>Contact:</strong> {{ v.contact }}
              </p>
              <a
                href="{{ url_for('edit', id=v.id) }}"
                class="btn btn-warning btn-sm"
                >Edit</a
              >
              <a
                href="{{ url_for('delete', id=v.id) }}"
                class="btn btn-danger btn-sm"
                onclick="return confirm('Are you sure you want to delete this volunteer?');"
                >Delete</a
              >
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
    </div>

    <!-- JS Scripts -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>

    <script>
      $(document).ready(function () {
        $("#volunteerTable").DataTable({
          paging: true,
          searching: true,
          ordering: true,
        });
      });
    </script>
  </body>
</html>
